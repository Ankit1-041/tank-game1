{"version":3,"sources":["webpack:///webpage.min.js","webpack:///webpack/bootstrap f23cea2143d59941f6c6","webpack:///./app/webpage/sources/entry.js"],"names":["webpage","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","buildSimulation","renderer","JsBattle","createRenderer","rendererName","loadAssets","onAssetsLoaded","bind","this","init","canvas","simulation","createSimulation","onError","showError","onRender","updateTanks","setSpeed","simSpeed","onFinish","topScore","winner","i","tankList","tank","score","fullName","timeElapsed","timeLimit","$","html","show","hide","keepRenderingTimer","setTimeout","showCover","getJSON","data","forEach","tankName","addTank","buildScoreTable","fail","msg","console","error","row","nameCell","energyCell","scoreCell","remove","scoreTable","empty","append","push","progressBar","find","val","debugTankId","forceUpdate","length","step","debugData","JSON","stringify","state","tankData","name","energy","Math","round","maxEnergy","sort","a","b","attr","css","toFixed","hideCover","localStorage","getItem","document","getElementById","setInterval","preRender","postRender","ready","click","setItem","removeClass","addClass","toArray","item","change","start"],"mappings":"AAAA,GAAIA,SACK,SAAUC,GCGnB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA,KDOM,SAAUI,EAAQD,GAEvB,YEoCD,SAASQ,KACPC,EAAWC,SAASC,eAAeC,GACnCH,EAASI,WAAWC,EAAeC,KAAKC,OAG1C,QAASF,KACPL,EAASQ,KAAKC,GAEdC,EAAaT,SAASU,iBAAiBX,GACvCU,EAAWE,QAAQC,GACnBH,EAAWF,KAAK,IAAK,KAErBE,EAAWI,SAASC,GACpBL,EAAWM,SAASC,GACpBP,EAAWQ,SAAS,WAClBH,GAAY,EAEZ,IAAII,IAAY,EACZC,EAAS,EACb,KAAI,GAAIC,KAAKX,GAAWY,SAAU,CAChC,GAAIC,GAAOb,EAAWY,SAASD,EAC5BE,GAAKC,MAAQL,IACdA,EAAWI,EAAKC,MAChBJ,EAASG,EAAKE,UAGff,EAAWgB,aAAehB,EAAWiB,UACtCC,EAAE,aAAaC,KAAK,wDAA0DT,EAAS,cAEvFQ,EAAE,aAAaC,KAAK,kDAAoDT,EAAS,cAGnFQ,EAAE,eAAeE,OACjBF,EAAE,gBAAgBG,OAClBC,EAAqB,GACrBC,WAAWC,EAAW,OAGxBN,EAAE,gBAAgBE,OAClBF,EAAEO,QAAS,sBAAuB,SAASC,GACzCA,EAAKC,QAAQ,SAASC,GACpB5B,EAAW6B,QAAQD,GACnBV,EAAE,gBAAgBG,OAClBH,EAAE,cAAcE,SAElBI,IACAM,EAAgB9B,EAAWY,UAC3BP,GAAY,KAEb0B,KAAK,WACJ5B,EAAU,+CAId,QAASA,GAAU6B,GACjBC,QAAQC,MAAMF,GACdd,EAAE,iBAAiBC,KAAKa,GACxBd,EAAE,UAAUE,OAGd,QAASU,GAAgBlB,GACvB,GAAIuB,GAAKtB,EAAMuB,EAAUC,EAAYC,CACrCpB,GAAE,sCAAsCqB,SACxCC,KACAtB,EAAE,eAAeuB,QACjBvB,EAAE,eAAewB,OAAO,0DACxB,KAAI,GAAI/B,KAAKC,GACXC,EAAOD,EAASD,GAEhBwB,EAAMjB,EAAE,+BACRkB,EAAWlB,EAAE,aACbmB,EAAanB,EAAE,0PAMfoB,EAAYpB,EAAE,sDAGdiB,EAAIO,OAAON,GACXD,EAAIO,OAAOL,GACXF,EAAIO,OAAOJ,GAEXpB,EAAE,eAAewB,OAAOP,GAExBjB,EAAE,eAAewB,OAAO,kBAAoB7B,EAAK9B,GAAK,KAAO8B,EAAKE,SAAW,aAC7EyB,EAAWG,MACTR,IAAKA,EACLC,SAAUA,EACVC,WAAYA,EACZC,UAAWA,EACXM,YAAaP,EAAWQ,KAAK,8BAGjC3B,GAAE,eAAe4B,IAAIC,GAKvB,QAAS1C,GAAY2C,GACnB,GAAIR,EAAWS,OAAf,CACAC,GACA,IAAIvC,GAAGE,CACP,KAAIF,IAAKX,GAAWY,SAClBC,EAAOb,EAAWY,SAASD,GACxBE,EAAK9B,IAAMgE,IACZ7B,EAAE,2BAA2BC,KAAKN,EAAKsC,UAAYtC,EAAKsC,UAAY,MACpEjC,EAAE,2BAA2BC,KAAKiC,KAAKC,UAAUxC,EAAKyC,MAAO,KAAM,IAGvE,IAAIN,GAAeE,EAAO,IAAM,EAAhC,CAGA,GAAIK,KAEJ,KAAI5C,IAAKX,GAAWY,SAClBC,EAAOb,EAAWY,SAASD,GAC3B4C,EAASZ,MACPa,KAAM3C,EAAKE,SACX0C,OAAQC,KAAKC,MAAM,IAAI9C,EAAK4C,OAAO5C,EAAK+C,WACxC9C,MAAOD,EAAKC,OAGhByC,GAASM,KAAK,SAASC,EAAEC,GACvB,MAAOA,GAAEjD,MAAQgD,EAAEhD,OAErB,KAAIH,IAAK4C,GACPf,EAAW7B,GAAGyB,SAASjB,KAAKoC,EAAS5C,GAAG6C,MACxChB,EAAW7B,GAAGiC,YAAYoB,KAAK,gBAAiBT,EAAS5C,GAAG8C,QAC5DjB,EAAW7B,GAAGiC,YAAYqB,IAAI,QAASV,EAAS5C,GAAG8C,OAAS,KAC5DjB,EAAW7B,GAAGiC,YAAYzB,KAAKoC,EAAS5C,GAAG8C,OAAOS,QAAQ,IAC1D1B,EAAW7B,GAAG2B,UAAUnB,KAAKoC,EAAS5C,GAAGG,MAAMoD,QAAQ,MAI3D,QAAS1C,KACPN,EAAE,gBAAgBG,OAClBH,EAAE,UAAUE,OAGd,QAAS+C,KACPjD,EAAE,gBAAgBE,OAClBF,EAAE,UAAUG,OAlOd,GAAIrB,GACA+C,EAAcqB,aAAaC,QAAQ,uBACvCtB,GAAcA,GAA4B,CAC1C,IAEIzD,GAFAG,EAAe,QACfM,EAASuE,SAASC,eAAe,eAEjCjD,EAAqB,EACrBkB,KAEAjC,EAAW6D,aAAaC,QAAQ,oBACpC9D,GAAWA,GAAsB,EAEjCiE,YAAY,WACPlF,GAAYgC,EAAqB,IAClChC,EAASmF,YACTnF,EAASoF,aACTpD,MAED,GAEH,IAAI4B,GAAO,CAEXhC,GAAGoD,UAAWK,MAAM,WACA,GAAf5B,EACD7B,EAAE,eAAeG,QAEjBH,EAAE,eAAeE,OACjBF,EAAE,qBAAqBC,KAAK,KAI9B9B,IACAmC,IAEAN,EAAE,mBAAmBQ,KAAK,QAAS,KACnCR,EAAE,aAAaQ,KAAK,QAAS,IAC7BR,EAAE,eAAeQ,KAAK,QAAS,GAC/BR,EAAE,aAAaQ,KAAK,QAAS,GAC7BR,EAAE,mBAAmBQ,KAAK,QAAS,IACnCR,EAAE,cAAc0D,MAAM,WACpBrE,EAAWW,EAAErB,MAAM6B,KAAK,SACxB0C,aAAaS,QAAQ,oBAAqBtE,GACvCP,GACDA,EAAWM,SAASC,GAEtBW,EAAE,cAAc4D,YAAY,eAC5B5D,EAAErB,MAAMkF,SAAS,iBAGlB7D,EAAE,cAAe8D,UAAUnC,KAAK,SAASoC,GACxCA,EAAO/D,EAAE+D,GACGA,EAAKvD,KAAK,UACVnB,GACV0E,EAAKF,SAAS,iBAIlB7D,EAAE,eAAegE,OAAO,WACtBnC,EAAc7B,EAAErB,MAAMiD,MACtBsB,aAAaS,QAAQ,uBAAwB9B,GAC3B,GAAfA,EACD7B,EAAE,eAAeG,QAEjBH,EAAE,eAAeE,OACjBF,EAAE,qBAAqBC,KAAK,OAIhCD,EAAE,cAAc0D,MAAM,WACpB5E,EAAWmF,QACXhB,IAEAjD,EAAE,gBAAgBE,OAClBF,EAAE,cAAcG,SAElBH,EAAE,gBAAgB0D,MAAM,WACtB1D,EAAE,eAAeG,OACjBH,EAAE,gBAAgBE,OAClB/B","file":"webpage.min.js","sourcesContent":["var webpage =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar simulation;\n\tvar debugTankId = localStorage.getItem(\"settings.debugTankId\");\n\tdebugTankId = debugTankId ? debugTankId : 0;\n\tvar rendererName = 'brody';\n\tvar canvas = document.getElementById(\"battlefield\");\n\tvar renderer;\n\tvar keepRenderingTimer = 0;\n\tvar scoreTable = [];\n\t\n\tvar simSpeed = localStorage.getItem(\"settings.simSpeed\");\n\tsimSpeed = simSpeed ? simSpeed : 1;\n\t\n\tsetInterval(function () {\n\t  if (renderer && keepRenderingTimer > 0) {\n\t    renderer.preRender();\n\t    renderer.postRender();\n\t    keepRenderingTimer--;\n\t  }\n\t}, 30);\n\t\n\tvar step = 0;\n\t\n\t$(document).ready(function () {\n\t  if (debugTankId == 0) {\n\t    $('#debug-view').hide();\n\t  } else {\n\t    $('#debug-view').show();\n\t    $('#debug-view > pre').html(\"\");\n\t  }\n\t\n\t  buildSimulation();\n\t  showCover();\n\t\n\t  $('#sim-super-slow').data('speed', 0.05);\n\t  $('#sim-slow').data('speed', 0.3);\n\t  $('#sim-normal').data('speed', 1);\n\t  $('#sim-fast').data('speed', 8);\n\t  $('#sim-super-fast').data('speed', 50);\n\t  $('.sim-speed').click(function () {\n\t    simSpeed = $(this).data('speed');\n\t    localStorage.setItem(\"settings.simSpeed\", simSpeed);\n\t    if (simulation) {\n\t      simulation.setSpeed(simSpeed);\n\t    }\n\t    $('.sim-speed').removeClass('btn-warning');\n\t    $(this).addClass('btn-warning');\n\t  });\n\t\n\t  $('.sim-speed').toArray().find(function (item) {\n\t    item = $(item);\n\t    var speed = item.data('speed');\n\t    if (speed == simSpeed) {\n\t      item.addClass('btn-warning');\n\t    }\n\t  });\n\t\n\t  $('#debug-tank').change(function () {\n\t    debugTankId = $(this).val();\n\t    localStorage.setItem(\"settings.debugTankId\", debugTankId);\n\t    if (debugTankId == 0) {\n\t      $('#debug-view').hide();\n\t    } else {\n\t      $('#debug-view').show();\n\t      $('#debug-view > pre').html(\"\");\n\t    }\n\t  });\n\t\n\t  $('#sim-start').click(function () {\n\t    simulation.start();\n\t    hideCover();\n\t\n\t    $('.sim-control').show();\n\t    $('#sim-start').hide();\n\t  });\n\t  $('#sim-restart').click(function () {\n\t    $('.sim-finish').hide();\n\t    $('#sim-loading').show();\n\t    buildSimulation();\n\t  });\n\t});\n\t\n\tfunction buildSimulation() {\n\t  renderer = JsBattle.createRenderer(rendererName);\n\t  renderer.loadAssets(onAssetsLoaded.bind(this));\n\t}\n\t\n\tfunction onAssetsLoaded() {\n\t  renderer.init(canvas);\n\t\n\t  simulation = JsBattle.createSimulation(renderer);\n\t  simulation.onError(showError);\n\t  simulation.init(900, 600);\n\t\n\t  simulation.onRender(updateTanks);\n\t  simulation.setSpeed(simSpeed);\n\t  simulation.onFinish(function () {\n\t    updateTanks(true);\n\t\n\t    var topScore = -1;\n\t    var winner = \"\";\n\t    for (var i in simulation.tankList) {\n\t      var tank = simulation.tankList[i];\n\t      if (tank.score > topScore) {\n\t        topScore = tank.score;\n\t        winner = tank.fullName;\n\t      }\n\t    }\n\t    if (simulation.timeElapsed == simulation.timeLimit) {\n\t      $('.congrats').html(\"<small>Time out! The winner is:</small><br/> <strong>\" + winner + \"</strong>!\");\n\t    } else {\n\t      $('.congrats').html(\"<small>And the winner is:</small><br/> <strong>\" + winner + \"</strong>!\");\n\t    }\n\t\n\t    $('.sim-finish').show();\n\t    $('.sim-control').hide();\n\t    keepRenderingTimer = 30;\n\t    setTimeout(showCover, 500);\n\t  });\n\t\n\t  $('#sim-loading').show();\n\t  $.getJSON(\"js/tanks/index.json\", function (data) {\n\t    data.forEach(function (tankName) {\n\t      simulation.addTank(tankName);\n\t      $('#sim-loading').hide();\n\t      $('#sim-start').show();\n\t    });\n\t    showCover();\n\t    buildScoreTable(simulation.tankList);\n\t    updateTanks(true);\n\t  }).fail(function () {\n\t    showError(\"Cannot load and parse js/tanks/index.json\");\n\t  });\n\t}\n\t\n\tfunction showError(msg) {\n\t  console.error(msg);\n\t  $('#error > span').html(msg);\n\t  $('#error').show();\n\t}\n\t\n\tfunction buildScoreTable(tankList) {\n\t  var row, tank, nameCell, energyCell, scoreCell;\n\t  $('#scoreboard > tbody > tr.tank-data').remove();\n\t  scoreTable = [];\n\t  $('#debug-tank').empty();\n\t  $('#debug-tank').append('<option value=\"0\">[Select Tank for Debug View]</option>');\n\t  for (var i in tankList) {\n\t    tank = tankList[i];\n\t\n\t    row = $('<tr class=\"tank-data\"></tr>');\n\t    nameCell = $('<td></td>');\n\t    energyCell = $('<td class=\"energy\" style=\"text-align: center\">' + '<div class=\"progress\" style=\"margin-bottom: 0 !important;\">' + '<div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 100%;\">' + '</div>' + '</div>' + '</td>');\n\t    scoreCell = $('<td style=\"text-align: right\" class=\"score\">0</td>');\n\t\n\t    row.append(nameCell);\n\t    row.append(energyCell);\n\t    row.append(scoreCell);\n\t\n\t    $('#scoreboard').append(row);\n\t\n\t    $('#debug-tank').append('<option value=\"' + tank.id + '\">' + tank.fullName + '</option>');\n\t    scoreTable.push({\n\t      row: row,\n\t      nameCell: nameCell,\n\t      energyCell: energyCell,\n\t      scoreCell: scoreCell,\n\t      progressBar: energyCell.find('.progress > .progress-bar')\n\t    });\n\t  }\n\t  $('#debug-tank').val(debugTankId);\n\t}\n\t\n\tfunction updateTanks(forceUpdate) {\n\t  if (!scoreTable.length) return;\n\t  step++;\n\t  var i, tank;\n\t  for (i in simulation.tankList) {\n\t    tank = simulation.tankList[i];\n\t    if (tank.id == debugTankId) {\n\t      $('#debug-view > pre.debug').html(tank.debugData ? tank.debugData : \"{}\");\n\t      $('#debug-view > pre.state').html(JSON.stringify(tank.state, null, 2));\n\t    }\n\t  }\n\t  if (!forceUpdate && step % 15 != 0) {\n\t    return;\n\t  }\n\t  var tankData = [];\n\t\n\t  for (i in simulation.tankList) {\n\t    tank = simulation.tankList[i];\n\t    tankData.push({\n\t      name: tank.fullName,\n\t      energy: Math.round(100 * tank.energy / tank.maxEnergy),\n\t      score: tank.score\n\t    });\n\t  }\n\t  tankData.sort(function (a, b) {\n\t    return b.score - a.score;\n\t  });\n\t  for (i in tankData) {\n\t    scoreTable[i].nameCell.html(tankData[i].name);\n\t    scoreTable[i].progressBar.attr('aria-valuenow', tankData[i].energy);\n\t    scoreTable[i].progressBar.css('width', tankData[i].energy + \"%\");\n\t    scoreTable[i].progressBar.html(tankData[i].energy.toFixed(2));\n\t    scoreTable[i].scoreCell.html(tankData[i].score.toFixed(2));\n\t  }\n\t}\n\t\n\tfunction showCover() {\n\t  $('#battlefield').hide();\n\t  $('#cover').show();\n\t}\n\t\n\tfunction hideCover() {\n\t  $('#battlefield').show();\n\t  $('#cover').hide();\n\t}\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// webpage.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f23cea2143d59941f6c6","var simulation;\nvar debugTankId = localStorage.getItem(\"settings.debugTankId\");\ndebugTankId = debugTankId ? debugTankId : 0;\nvar rendererName = 'brody';\nvar canvas = document.getElementById(\"battlefield\");\nvar renderer;\nvar keepRenderingTimer = 0;\nvar scoreTable = [];\n\nvar simSpeed = localStorage.getItem(\"settings.simSpeed\");\nsimSpeed = simSpeed ? simSpeed : 1;\n\nsetInterval(function() {\n  if(renderer && keepRenderingTimer > 0) {\n    renderer.preRender();\n    renderer.postRender();\n    keepRenderingTimer--;\n  }\n}, 30);\n\nvar step = 0;\n\n$( document ).ready(function() {\n  if(debugTankId == 0) {\n    $('#debug-view').hide();\n  } else {\n    $('#debug-view').show();\n    $('#debug-view > pre').html(\"\");\n\n  }\n\n  buildSimulation();\n  showCover();\n\n  $('#sim-super-slow').data('speed', 0.05);\n  $('#sim-slow').data('speed', 0.3);\n  $('#sim-normal').data('speed', 1);\n  $('#sim-fast').data('speed', 8);\n  $('#sim-super-fast').data('speed', 50);\n  $('.sim-speed').click(function() {\n    simSpeed = $(this).data('speed');\n    localStorage.setItem(\"settings.simSpeed\", simSpeed);\n    if(simulation) {\n      simulation.setSpeed(simSpeed);\n    }\n    $('.sim-speed').removeClass('btn-warning');\n    $(this).addClass('btn-warning');\n  });\n\n  ($('.sim-speed')).toArray().find(function(item) {\n    item = $(item);\n    var speed = item.data('speed');\n    if(speed == simSpeed) {\n      item.addClass('btn-warning');\n    }\n  });\n\n  $('#debug-tank').change(function() {\n    debugTankId = $(this).val();\n    localStorage.setItem(\"settings.debugTankId\", debugTankId);\n    if(debugTankId == 0) {\n      $('#debug-view').hide();\n    } else {\n      $('#debug-view').show();\n      $('#debug-view > pre').html(\"\");\n    }\n  });\n\n  $('#sim-start').click(function() {\n    simulation.start();\n    hideCover();\n\n    $('.sim-control').show();\n    $('#sim-start').hide();\n  });\n  $('#sim-restart').click(function() {\n    $('.sim-finish').hide();\n    $('#sim-loading').show();\n    buildSimulation();\n  });\n\n});\n\nfunction buildSimulation() {\n  renderer = JsBattle.createRenderer(rendererName);\n  renderer.loadAssets(onAssetsLoaded.bind(this));\n}\n\nfunction onAssetsLoaded() {\n  renderer.init(canvas);\n\n  simulation = JsBattle.createSimulation(renderer);\n  simulation.onError(showError);\n  simulation.init(900, 600);\n\n  simulation.onRender(updateTanks);\n  simulation.setSpeed(simSpeed);\n  simulation.onFinish(function() {\n    updateTanks(true);\n\n    var topScore = -1;\n    var winner = \"\";\n    for(var i in simulation.tankList) {\n      var tank = simulation.tankList[i];\n      if(tank.score > topScore) {\n        topScore = tank.score;\n        winner = tank.fullName;\n      }\n    }\n    if(simulation.timeElapsed == simulation.timeLimit) {\n      $('.congrats').html(\"<small>Time out! The winner is:</small><br/> <strong>\" + winner + \"</strong>!\");\n    } else {\n      $('.congrats').html(\"<small>And the winner is:</small><br/> <strong>\" + winner + \"</strong>!\");\n    }\n\n    $('.sim-finish').show();\n    $('.sim-control').hide();\n    keepRenderingTimer = 30;\n    setTimeout(showCover, 500);\n  });\n\n  $('#sim-loading').show();\n  $.getJSON( \"js/tanks/index.json\", function(data) {\n    data.forEach(function(tankName) {\n      simulation.addTank(tankName);\n      $('#sim-loading').hide();\n      $('#sim-start').show();\n    });\n    showCover();\n    buildScoreTable(simulation.tankList);\n    updateTanks(true);\n  })\n  .fail(function() {\n    showError(\"Cannot load and parse js/tanks/index.json\");\n  });\n}\n\nfunction showError(msg) {\n  console.error(msg);\n  $('#error > span').html(msg);\n  $('#error').show();\n}\n\nfunction buildScoreTable(tankList) {\n  var row, tank, nameCell, energyCell, scoreCell;\n  $('#scoreboard > tbody > tr.tank-data').remove();\n  scoreTable = [];\n  $('#debug-tank').empty();\n  $('#debug-tank').append('<option value=\"0\">[Select Tank for Debug View]</option>');\n  for(var i in tankList) {\n    tank = tankList[i];\n\n    row = $('<tr class=\"tank-data\"></tr>');\n    nameCell = $('<td></td>');\n    energyCell = $('<td class=\"energy\" style=\"text-align: center\">' +\n      '<div class=\"progress\" style=\"margin-bottom: 0 !important;\">' +\n        '<div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 100%;\">' +\n        '</div>' +\n      '</div>' +\n    '</td>');\n    scoreCell = $('<td style=\"text-align: right\" class=\"score\">0</td>');\n\n\n    row.append(nameCell);\n    row.append(energyCell);\n    row.append(scoreCell);\n\n    $('#scoreboard').append(row);\n\n    $('#debug-tank').append('<option value=\"' + tank.id + '\">' + tank.fullName + '</option>');\n    scoreTable.push({\n      row: row,\n      nameCell: nameCell,\n      energyCell: energyCell,\n      scoreCell: scoreCell,\n      progressBar: energyCell.find('.progress > .progress-bar')\n    });\n  }\n  $('#debug-tank').val(debugTankId);\n\n\n}\n\nfunction updateTanks(forceUpdate) {\n  if(!scoreTable.length) return;\n  step++;\n  var i, tank;\n  for(i in simulation.tankList) {\n    tank = simulation.tankList[i];\n    if(tank.id == debugTankId) {\n      $('#debug-view > pre.debug').html(tank.debugData ? tank.debugData : \"{}\");\n      $('#debug-view > pre.state').html(JSON.stringify(tank.state, null, 2));\n    }\n  }\n  if(!forceUpdate && step % 15 != 0) {\n    return;\n  }\n  var tankData = [];\n\n  for(i in simulation.tankList) {\n    tank = simulation.tankList[i];\n    tankData.push({\n      name: tank.fullName,\n      energy: Math.round(100*tank.energy/tank.maxEnergy),\n      score: tank.score\n    });\n  }\n  tankData.sort(function(a,b) {\n    return b.score - a.score;\n  });\n  for(i in tankData) {\n    scoreTable[i].nameCell.html(tankData[i].name);\n    scoreTable[i].progressBar.attr('aria-valuenow', tankData[i].energy);\n    scoreTable[i].progressBar.css('width', tankData[i].energy + \"%\");\n    scoreTable[i].progressBar.html(tankData[i].energy.toFixed(2));\n    scoreTable[i].scoreCell.html(tankData[i].score.toFixed(2));\n  }\n}\n\nfunction showCover() {\n  $('#battlefield').hide();\n  $('#cover').show();\n}\n\nfunction hideCover() {\n  $('#battlefield').show();\n  $('#cover').hide();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/webpage/sources/entry.js"],"sourceRoot":""}